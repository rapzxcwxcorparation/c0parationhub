local Players = game:GetService("Players")
local player = Players.LocalPlayer
local char = player.Character or player.CharacterAdded:Wait()
local UIS = game:GetService("UserInputService")
local run = game:GetService("RunService")

-- GUI setup
local ScreenGui = Instance.new("ScreenGui", player:WaitForChild("PlayerGui"))
ScreenGui.Name = "CorporationHub"
ScreenGui.ResetOnSpawn = false
ScreenGui.ZIndexBehavior = Enum.ZIndexBehavior.Sibling  -- Keeps GUI on top

local toggleButton = Instance.new("ImageButton", ScreenGui)
toggleButton.Size = UDim2.new(0, 25, 0, 25)
toggleButton.Position = UDim2.new(1, -30, 0, 5)
toggleButton.Image = "rbxassetid://4483345998"
toggleButton.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
toggleButton.Draggable = true

local main = Instance.new("Frame", ScreenGui)
main.Size = UDim2.new(0, 400, 0, 200)
main.Position = UDim2.new(0.5, -200, 0.5, -100)
main.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
main.BorderSizePixel = 0
main.Visible = true
main.Draggable = true  -- Enable dragging functionality

local UICorner = Instance.new("UICorner", main)
UICorner.CornerRadius = UDim.new(0, 10)

local rainbowText = Instance.new("TextLabel", main)
rainbowText.Size = UDim2.new(1, 0, 0, 25)
rainbowText.BackgroundTransparency = 1
rainbowText.Text = "CORPORATION HUB"
rainbowText.Font = Enum.Font.GothamBlack
rainbowText.TextSize = 18

-- Rainbow text animation
task.spawn(function()
    local hue = 0
    while true do
        rainbowText.TextColor3 = Color3.fromHSV(hue, 1, 1)
        hue = (hue + 0.01) % 1
        task.wait(0.05)
    end
end)

local function playSound()
    local sound = Instance.new("Sound", player:WaitForChild("PlayerGui"))
    sound.SoundId = "rbxassetid://452267918"
    sound.Volume = 5
    sound:Play()
    game.Debris:AddItem(sound, 3)
end

-- Utility function for buttons
local function createButton(name, position, callback)
    local button = Instance.new("TextButton", main)
    button.Size = UDim2.new(0, 120, 0, 25)
    button.Position = position
    button.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
    button.TextColor3 = Color3.fromRGB(255, 0, 0)
    button.Font = Enum.Font.GothamBold
    button.TextSize = 12
    button.Text = name
    button.MouseButton1Click:Connect(function()
        playSound()
        callback()
    end)
    return button
end

-- ESP (Updated script)
createButton("ESP", UDim2.new(0, 10, 0, 30), function()
    loadstring(game:HttpGet("https://raw.githubusercontent.com/Rafimuhuehe/esptracerprivate/refs/heads/main/teamcolor"))()
end)

-- Hitbox
createButton("Hitbox", UDim2.new(0, 140, 0, 30), function()
    loadstring(game:HttpGet(('https://pastebin.com/raw/DJ0GmDRu'),true))()
end)

-- FOV
local fovValue = 300
createButton("Set FOV 300", UDim2.new(0, 270, 0, 30), function()
    local cam = workspace.CurrentCamera
    cam.FieldOfView = fovValue
end)

-- FPS Unlocker
createButton("FPS Unlocker", UDim2.new(0, 10, 0, 65), function()
    settings().Rendering.FrameRateManager = Enum.FrameRateManager.Physics
    setfpscap(1000)
end)

-- 8-bit Texture (white)
createButton("8-bit Texture", UDim2.new(0, 140, 0, 65), function()
    for _, p in pairs(workspace:GetDescendants()) do
        if p:IsA("BasePart") and not p:IsDescendantOf(char) then
            p.Material = Enum.Material.SmoothPlastic
            p.Color = Color3.new(1, 1, 1)
        end
    end
end)

-- Double Jump
local canDoubleJump = false
local hasJumped = false

createButton("Double Jump", UDim2.new(0, 270, 0, 65), function()
    UIS.JumpRequest:Connect(function()
        if not hasJumped then
            hasJumped = true
        elseif canDoubleJump then
            char:FindFirstChildOfClass("Humanoid"):ChangeState(Enum.HumanoidStateType.Jumping)
        end
    end)

    char:WaitForChild("Humanoid").StateChanged:Connect(function(_, new)
        if new == Enum.HumanoidStateType.Landed then
            hasJumped = false
            canDoubleJump = true
        end
    end)
end)

-- Aimbot
createButton("Aimbot", UDim2.new(0, 10, 0, 100), function()
    loadstring(game:HttpGet("https://pastebin.com/raw/qtZt0Nzb"))()
end)

-- Toggle GUI
toggleButton.MouseButton1Click:Connect(function()
    main.Visible = not main.Visible
end)

-- Footer
local footer = Instance.new("TextLabel", main)
footer.Size = UDim2.new(1, 0, 0, 15)
footer.Position = UDim2.new(0, 0, 1, -15)
footer.Text = "OWNERS: RAPZCORPORATION"
footer.TextColor3 = Color3.fromRGB(255, 0, 0)
footer.Font = Enum.Font.GothamBold
footer.TextSize = 12
footer.BackgroundTransparency = 1

local stroke = Instance.new("UIStroke", footer)
stroke.Color = Color3.fromRGB(255, 255, 255)
stroke.Thickness = 1
stroke.ApplyStrokeMode = Enum.ApplyStrokeMode.Contextual
